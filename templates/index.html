<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Evidence Claim Verifier</title>
<style>
body { font-family: Arial; max-width: 900px; margin: 40px auto; }
textarea { width: 100%; height: 400px; white-space: pre-wrap; }
</style>
</head>
<body>

<h2>Evidence Claim Verifier</h2>

<input id="url" type="text" placeholder="Enter URL" style="width:100%">
<button onclick="start()">Crawl</button>

<textarea id="output"></textarea>

<script>
function start() {
    const url = document.getElementById("url").value;
    const out = document.getElementById("output");
    out.value = "";

    const evt = new EventSource("/crawl?url=" + encodeURIComponent(url));

    evt.onmessage = (e) => {
        out.value += e.data;
        out.scrollTop = out.scrollHeight;

        if (e.data.includes("==END==")) {
            evt.close();
        }
    };
}
</script>

</body>
</html>
